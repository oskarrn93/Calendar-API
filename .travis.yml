language: node_js
node_js:
  - 13

# before_deploy:
#   - git config --global user.email "builds@travis-ci.com"
#   - git config --global user.name "Travis CI"
#   - export TRAVIS_TAG=${TRAVIS_TAG:-$(date +'%Y%m%d%H%M%S')-$(git log --format=%h -1)}
#   - git tag $TRAVIS_TAG

before_deploy:
  - git config --global user.email "${GIT_EMAIL}"
  - git config --global user.name "${GIT_NAME}"
  - export GIT_TAG=v1.0.$TRAVIS_BUILD_NUMBER
  - git tag $GIT_TAG -a -m "Tag Generated from TravisCI for build $TRAVIS_BUILD_NUMBER"
  - git push https://${GITHUB_TOKEN}@github.com/${GITHUB_REPO_SLUG} --tags
